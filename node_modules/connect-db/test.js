const ConnectionService = require('./index')

dbConnectionService = new ConnectionService({
    uri: 'mongodb://localhost:27017/my-office-api',
    onError: (err) => {
        console.log('[CustomErrorHuddler]')
        console.log('[ReportError]: error')
        console.log('[SendEmail2Devs]: error')
        // Try reconnect 
        // console.log('[Attempt2Reconnect]')
        // dbConnectionService._connect('mongodb://localhost:27017/my-office-api')
    },
    onConnected: () => console.log('[CustomConnectionHuddler] You are Connected. Continue...')
})

dbConnectionService.connectDB()
    .then(() => console.log('[TestApp] You Are Ready 2 Rock'))
    .catch(error => console.log('[TestError] An error occur', error))

